import{S as ve,i as _e,s as me,e as u,k as y,t as k,c,a as f,d as o,n as $,g as I,b as s,f as z,D as e,E as P,F as Q,G as Pe,H as Y,I as Ue,J as qe,K as xe,j as He,m as je,o as Re,L as Ge,M as Je,N as Ke,x as be,u as ge,v as Ce,O as Me}from"../chunks/vendor-f1fad890.js";import{s as Z}from"../chunks/db-f5c683a2.js";import{s as ee}from"../chunks/stores-5bbe0065.js";function ze(_){let t,a,n,r,v,l,h,m,p,d;return{c(){t=u("form"),a=u("input"),n=y(),r=u("button"),v=k("Sign in"),l=y(),h=u("button"),m=k("Sign in"),this.h()},l(i){t=c(i,"FORM",{class:!0});var b=f(t);a=c(b,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),n=$(b),r=c(b,"BUTTON",{id:!0,class:!0,type:!0});var B=f(r);v=I(B,"Sign in"),B.forEach(o),l=$(b),h=c(b,"BUTTON",{id:!0,class:!0});var w=f(h);m=I(w,"Sign in"),w.forEach(o),b.forEach(o),this.h()},h(){s(a,"id","navForm"),s(a,"type","text"),s(a,"class","textForm"),s(a,"placeholder","Email address"),a.required="required",s(r,"id","loginButton"),s(r,"class","buttonAuth"),s(r,"type","submit"),s(h,"id","alternativeButton"),s(h,"class","buttonAuth"),s(t,"class","")},m(i,b){z(i,t,b),e(t,a),Y(a,_[0]),e(t,n),e(t,r),e(r,v),e(t,l),e(t,h),e(h,m),p||(d=[P(a,"input",_[4]),P(h,"click",_[5]),P(t,"submit",Ue(_[2]))],p=!0)},p(i,b){b&1&&a.value!==i[0]&&Y(a,i[0])},d(i){i&&o(t),p=!1,qe(d)}}}function Qe(_){let t,a,n,r;return{c(){t=u("button"),a=k("Log out"),this.h()},l(v){t=c(v,"BUTTON",{class:!0});var l=f(t);a=I(l,"Log out"),l.forEach(o),this.h()},h(){s(t,"class","buttonAuth")},m(v,l){z(v,t,l),e(t,a),n||(r=P(t,"click",_[3]),n=!0)},p:Q,d(v){v&&o(t),n=!1,r()}}}function We(_){let t,a,n,r,v,l,h,m,p,d,i,b,B;function w(E,T){return E[1]?Qe:ze}let D=w(_),g=D(_);return{c(){t=u("nav"),a=u("div"),n=u("button"),r=u("i"),v=y(),l=u("a"),h=k("Otium "),m=u("code"),p=k("v0.1"),d=y(),i=u("div"),g.c(),this.h()},l(E){t=c(E,"NAV",{class:!0});var T=f(t);a=c(T,"DIV",{class:!0});var V=f(a);n=c(V,"BUTTON",{id:!0,class:!0});var A=f(n);r=c(A,"I",{class:!0,"aria-hidden":!0}),f(r).forEach(o),A.forEach(o),v=$(V),l=c(V,"A",{id:!0,href:!0});var O=f(l);h=I(O,"Otium "),m=c(O,"CODE",{});var U=f(m);p=I(U,"v0.1"),U.forEach(o),O.forEach(o),V.forEach(o),d=$(T),i=c(T,"DIV",{class:!0});var q=f(i);g.l(q),q.forEach(o),T.forEach(o),this.h()},h(){s(r,"class","fa fa-bars"),s(r,"aria-hidden","true"),s(n,"id","sidebarOpener"),s(n,"class","toolsButton"),s(l,"id","navbarBrand"),s(l,"href","/"),s(a,"class","navbar-left"),s(i,"class","navbar-right"),s(t,"class","navbar")},m(E,T){z(E,t,T),e(t,a),e(a,n),e(n,r),e(a,v),e(a,l),e(l,h),e(l,m),e(m,p),e(t,d),e(t,i),g.m(i,null),b||(B=P(n,"click",Xe),b=!0)},p(E,[T]){D===(D=w(E))&&g?g.p(E,T):(g.d(1),g=D(E),g&&(g.c(),g.m(i,null)))},i:Q,o:Q,d(E){E&&o(t),g.d(),b=!1,B()}}}function Xe(){console.log(screen.width),document.getElementById("sidebar").style.display=="none"?(screen.width>550&&(document.getElementById("page").style.paddingLeft="240px"),document.getElementById("sidebar").style.display="block"):(document.getElementById("page").style.paddingLeft=0,document.getElementById("sidebar").style.display="none")}function Ye(_,t,a){let n;Pe(_,ee,p=>a(1,n=p));let r;async function v(){const{user:p,session:d,error:i}=await Z.auth.signIn({email:r});i&&alert(i.message)}async function l(){const{error:p}=await Z.auth.signOut();p&&alert(p.message)}function h(){r=this.value,a(0,r)}return[r,n,v,l,h,()=>window.location.href="/auth"]}class Ze extends ve{constructor(t){super();_e(this,t,Ye,We,me,{})}}function et(_){let t,a,n,r,v,l,h,m,p,d,i,b,B,w,D,g,E,T,V,A,O,U,q,H,te,ae,j,se,re,R,ne,le,C,oe,ie,M,x,ue,ce,F,G,de,fe,J,he,pe,Ee;return{c(){t=u("div"),a=u("div"),n=u("p"),r=u("span"),v=k("Search a book"),l=y(),h=u("form"),m=u("input"),p=y(),d=u("button"),i=u("i"),b=y(),B=u("a"),w=k("Advanced search"),D=y(),g=u("p"),E=u("span"),T=k("Bookshelf"),V=y(),A=u("div"),O=u("a"),U=k("Reading"),q=y(),H=u("a"),te=k("To read"),ae=y(),j=u("a"),se=k("Already read"),re=y(),R=u("a"),ne=k("Favourites"),le=y(),C=u("a"),oe=k("Suggested"),ie=y(),M=u("p"),x=u("span"),ue=k("Sections"),ce=y(),F=u("div"),G=u("a"),de=k("Home"),fe=y(),J=u("a"),he=k("About"),this.h()},l(L){t=c(L,"DIV",{id:!0,class:!0});var K=f(t);a=c(K,"DIV",{class:!0});var S=f(a);n=c(S,"P",{class:!0});var ye=f(n);r=c(ye,"SPAN",{class:!0});var $e=f(r);v=I($e,"Search a book"),$e.forEach(o),ye.forEach(o),l=$(S),h=c(S,"FORM",{class:!0});var W=f(h);m=c(W,"INPUT",{type:!0,class:!0,placeholder:!0}),p=$(W),d=c(W,"BUTTON",{id:!0,type:!0});var Ae=f(d);i=c(Ae,"I",{class:!0}),f(i).forEach(o),Ae.forEach(o),W.forEach(o),b=$(S),B=c(S,"A",{id:!0,href:!0});var ke=f(B);w=I(ke,"Advanced search"),ke.forEach(o),D=$(S),g=c(S,"P",{class:!0});var Ie=f(g);E=c(Ie,"SPAN",{class:!0});var Se=f(E);T=I(Se,"Bookshelf"),Se.forEach(o),Ie.forEach(o),V=$(S),A=c(S,"DIV",{class:!0});var N=f(A);O=c(N,"A",{href:!0});var Be=f(O);U=I(Be,"Reading"),Be.forEach(o),q=$(N),H=c(N,"A",{href:!0});var Te=f(H);te=I(Te,"To read"),Te.forEach(o),ae=$(N),j=c(N,"A",{href:!0});var Oe=f(j);se=I(Oe,"Already read"),Oe.forEach(o),re=$(N),R=c(N,"A",{href:!0});var Ne=f(R);ne=I(Ne,"Favourites"),Ne.forEach(o),le=$(N),C=c(N,"A",{href:!0});var we=f(C);oe=I(we,"Suggested"),we.forEach(o),N.forEach(o),ie=$(S),M=c(S,"P",{class:!0});var De=f(M);x=c(De,"SPAN",{class:!0});var Ve=f(x);ue=I(Ve,"Sections"),Ve.forEach(o),De.forEach(o),ce=$(S),F=c(S,"DIV",{class:!0});var X=f(F);G=c(X,"A",{href:!0});var Fe=f(G);de=I(Fe,"Home"),Fe.forEach(o),fe=$(X),J=c(X,"A",{href:!0});var Le=f(J);he=I(Le,"About"),Le.forEach(o),X.forEach(o),S.forEach(o),K.forEach(o),this.h()},h(){s(r,"class","svelte-1i2x15c"),s(n,"class","sidebarHeader"),s(m,"type","text"),s(m,"class","textForm svelte-1i2x15c"),s(m,"placeholder","Search per title"),m.required="required",s(i,"class","fas fa-search"),s(d,"id","searchButton"),s(d,"type","submit"),s(h,"class","searchBar"),s(B,"id","tipLink"),s(B,"href","#"),s(E,"class","svelte-1i2x15c"),s(g,"class","sidebarHeader"),s(O,"href","#"),s(H,"href","#"),s(j,"href","#"),s(R,"href","#"),s(C,"href","#"),s(A,"class","headerLinks"),s(x,"class","svelte-1i2x15c"),s(M,"class","sidebarHeader"),s(G,"href","/"),s(J,"href","#"),s(F,"class","headerLinks"),s(a,"class","sidebar-content"),s(t,"id","sidebar"),s(t,"class","sidebar")},m(L,K){z(L,t,K),e(t,a),e(a,n),e(n,r),e(r,v),e(a,l),e(a,h),e(h,m),Y(m,_[0]),e(h,p),e(h,d),e(d,i),e(a,b),e(a,B),e(B,w),e(a,D),e(a,g),e(g,E),e(E,T),e(a,V),e(a,A),e(A,O),e(O,U),e(A,q),e(A,H),e(H,te),e(A,ae),e(A,j),e(j,se),e(A,re),e(A,R),e(R,ne),e(A,le),e(A,C),e(C,oe),e(a,ie),e(a,M),e(M,x),e(x,ue),e(a,ce),e(a,F),e(F,G),e(G,de),e(F,fe),e(F,J),e(J,he),pe||(Ee=[P(m,"input",_[2]),P(h,"submit",Ue(_[1]))],pe=!0)},p(L,[K]){K&1&&m.value!==L[0]&&Y(m,L[0])},i:Q,o:Q,d(L){L&&o(t),pe=!1,qe(Ee)}}}function tt(_,t,a){let n;function r(){const l="/search?q="+n;window.location.href=l}function v(){n=this.value,a(0,n)}return[n,r,v]}class at extends ve{constructor(t){super();_e(this,t,tt,et,me,{})}}function st(_){let t,a,n,r,v,l,h;a=new at({}),r=new Ze({});const m=_[1].default,p=xe(m,_,_[0],null);return{c(){t=u("div"),He(a.$$.fragment),n=y(),He(r.$$.fragment),v=y(),l=u("div"),p&&p.c(),this.h()},l(d){t=c(d,"DIV",{});var i=f(t);je(a.$$.fragment,i),n=$(i),je(r.$$.fragment,i),v=$(i),l=c(i,"DIV",{id:!0,class:!0});var b=f(l);p&&p.l(b),b.forEach(o),i.forEach(o),this.h()},h(){s(l,"id","page"),s(l,"class","page")},m(d,i){z(d,t,i),Re(a,t,null),e(t,n),Re(r,t,null),e(t,v),e(t,l),p&&p.m(l,null),h=!0},p(d,[i]){p&&p.p&&(!h||i&1)&&Ge(p,m,d,d[0],h?Ke(m,d[0],i,null):Je(d[0]),null)},i(d){h||(be(a.$$.fragment,d),be(r.$$.fragment,d),be(p,d),h=!0)},o(d){ge(a.$$.fragment,d),ge(r.$$.fragment,d),ge(p,d),h=!1},d(d){d&&o(t),Ce(a),Ce(r),p&&p.d(d)}}}function rt(_,t,a){let n;Pe(_,ee,l=>a(2,n=l));let{$$slots:r={},$$scope:v}=t;return Me(ee,n=Z.auth.session(),n),Z.auth.onAuthStateChange((l,h)=>{Me(ee,n=h,n)}),_.$$set=l=>{"$$scope"in l&&a(0,v=l.$$scope)},[v,r]}class it extends ve{constructor(t){super();_e(this,t,rt,st,me,{})}}export{it as default};
